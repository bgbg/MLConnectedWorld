
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Classes and Objects &#8212; Machine Learning in the Connected World</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'chap16';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="chap00.html">
  
  
  
  
  
  
    <p class="title logo__title">Machine Learning in the Connected World</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="chap00.html">
                    Preface
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="markdown.html">Markdown Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="notebooks.html">Content with notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="markdown-notebooks.html">Notebooks with MyST Markdown</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/bgbg/MLConnectedWorld" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/bgbg/MLConnectedWorld/issues/new?title=Issue%20on%20page%20%2Fchap16.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/chap16.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Classes and Objects</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-point">Creating a Point</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-line">Creating a Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#equivalence-and-identity">Equivalence and identity</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-rectangle">Creating a Rectangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-rectangles">Changing rectangles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deep-copy">Deep copy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#polymorphism">Polymorphism</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debugging">Debugging</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ask-a-virtual-assistant">Ask a virtual assistant</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Exercise</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">os.path</span> <span class="kn">import</span> <span class="n">basename</span><span class="p">,</span> <span class="n">exists</span>

<span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">basename</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">exists</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">urlretrieve</span>

        <span class="n">local</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">urlretrieve</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Downloaded &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">local</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">filename</span>

<span class="n">download</span><span class="p">(</span><span class="s1">&#39;https://github.com/AllenDowney/ThinkPython/raw/v3/thinkpython.py&#39;</span><span class="p">);</span>
<span class="n">download</span><span class="p">(</span><span class="s1">&#39;https://github.com/AllenDowney/ThinkPython/raw/v3/diagram.py&#39;</span><span class="p">);</span>
<span class="n">download</span><span class="p">(</span><span class="s1">&#39;https://github.com/ramalho/jupyturtle/releases/download/2024-03/jupyturtle.py&#39;</span><span class="p">);</span>

<span class="kn">import</span> <span class="nn">thinkpython</span>
</pre></div>
</div>
</div>
</div>
<section class="tex2jax_ignore mathjax_ignore" id="classes-and-objects">
<h1>Classes and Objects<a class="headerlink" href="#classes-and-objects" title="Link to this heading">#</a></h1>
<p>At this point we have defined classes and created objects that represent the time of day and the day of the year.
And we’ve defined methods that create, modify, and perform computations with these objects.</p>
<p>In this chapter we’ll continue our tour of object-oriented programming (OOP) by defining classes that represent geometric objects, including points, lines, rectangles, and circles.
We’ll write methods that create and modify these objects, and we’ll use the <code class="docutils literal notranslate"><span class="pre">jupyturtle</span></code> module to draw them.</p>
<p>I’ll use these classes to demonstrate OOP topics including object identity and equivalence, shallow and deep copying, and polymorphism.</p>
<section id="creating-a-point">
<span id="section-create-point"></span><h2>Creating a Point<a class="headerlink" href="#creating-a-point" title="Link to this heading">#</a></h2>
<p>In computer graphics a location on the screen is often represented using a pair of coordinates in an <code class="docutils literal notranslate"><span class="pre">x</span></code>-<code class="docutils literal notranslate"><span class="pre">y</span></code> plane.
By convention, the point <code class="docutils literal notranslate"><span class="pre">(0,</span> <span class="pre">0)</span></code> usually represents the upper-left corner of the screen, and  <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code> represents the point <code class="docutils literal notranslate"><span class="pre">x</span></code> units to the right and <code class="docutils literal notranslate"><span class="pre">y</span></code> units down from the origin.
Compared to the Cartesian coordinate system you might have seen in a math class, the <code class="docutils literal notranslate"><span class="pre">y</span></code> axis is upside-down.</p>
<p>There are several ways we might represent a point in Python:</p>
<ul class="simple">
<li><p>We can store the coordinates separately in two variables, <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p></li>
<li><p>We can store the coordinates as elements in a list or tuple.</p></li>
<li><p>We can create a new type to represent points as objects.</p></li>
</ul>
<p>In object-oriented programming, it would be most idiomatic to create a new type.
To do that, we’ll start with a class definition for <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Point</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a point in 2-D space.&quot;&quot;&quot;</span>
    
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">x</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">y</span>
        
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Point(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="si">}</span><span class="s1">)&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method takes the coordinates as parameters and assigns them to attributes <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.
The <code class="docutils literal notranslate"><span class="pre">__str__</span></code> method returns a string representation of the <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p>
<p>Now we can instantiate and display a <code class="docutils literal notranslate"><span class="pre">Point</span></code> object like this.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Point(0, 0)
</pre></div>
</div>
</div>
</div>
<p>The following diagram shows the state of the new object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">make_frame</span><span class="p">,</span> <span class="n">make_binding</span>

<span class="n">d1</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
<span class="n">frame</span> <span class="o">=</span> <span class="n">make_frame</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.18</span><span class="p">)</span>
<span class="n">binding</span> <span class="o">=</span> <span class="n">make_binding</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">diagram</span><span class="p">,</span> <span class="n">adjust</span>

<span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">1.41</span><span class="p">,</span> <span class="mf">0.89</span><span class="p">,</span> <span class="mf">0.26</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">]</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">binding</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="c1">#adjust(x, y, bbox)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/338b62904affac51a69cb4cb025386fd73634e27470ddcda888f45112b01ebf1.png" src="_images/338b62904affac51a69cb4cb025386fd73634e27470ddcda888f45112b01ebf1.png" />
</div>
</div>
<p>As usual, a programmer-defined type is represented by a box with the name of the type outside and the attributes inside.</p>
<p>In general, programmer-defined types are mutable, so we can write a method like <code class="docutils literal notranslate"><span class="pre">translate</span></code> that takes two numbers, <code class="docutils literal notranslate"><span class="pre">dx</span></code> and <code class="docutils literal notranslate"><span class="pre">dy</span></code>, and adds them to the attributes <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Point

    def translate(self, dx, dy):
        self.x += dx
        self.y += dy
</pre></div>
</div>
</div>
</div>
<p>This function translates the <code class="docutils literal notranslate"><span class="pre">Point</span></code> from one location in the plane to another.
If we don’t want to modify an existing <code class="docutils literal notranslate"><span class="pre">Point</span></code>, we can use <code class="docutils literal notranslate"><span class="pre">copy</span></code> to copy the original object and then modify the copy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span>

<span class="n">end1</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">start</span><span class="p">)</span>
<span class="n">end1</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">end1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Point(300, 0)
</pre></div>
</div>
</div>
</div>
<p>We can encapsulate those steps in another method called <code class="docutils literal notranslate"><span class="pre">translated</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Point

    def translated(self, dx=0, dy=0):
        point = copy(self)
        point.translate(dx, dy)
        return point
</pre></div>
</div>
</div>
</div>
<p>In the same way that the built in function <code class="docutils literal notranslate"><span class="pre">sort</span></code> modifies a list, and the <code class="docutils literal notranslate"><span class="pre">sorted</span></code> function creates a new list, now we have a <code class="docutils literal notranslate"><span class="pre">translate</span></code> method that modifies a <code class="docutils literal notranslate"><span class="pre">Point</span></code> and a <code class="docutils literal notranslate"><span class="pre">translated</span></code> method that creates a new one.</p>
<p>Here’s an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">end2</span> <span class="o">=</span> <span class="n">start</span><span class="o">.</span><span class="n">translated</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">end2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Point(0, 150)
</pre></div>
</div>
</div>
</div>
<p>In the next section, we’ll use these points to define and draw a line.</p>
</section>
<section id="creating-a-line">
<h2>Creating a Line<a class="headerlink" href="#creating-a-line" title="Link to this heading">#</a></h2>
<p>Now let’s define a class that represents the line segment between two points.
As usual, we’ll start with an <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method and a <code class="docutils literal notranslate"><span class="pre">__str__</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Line</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">p1</span><span class="p">,</span> <span class="n">p2</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p1</span> <span class="o">=</span> <span class="n">p1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p2</span> <span class="o">=</span> <span class="n">p2</span>
        
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Line(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">p1</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">p2</span><span class="si">}</span><span class="s1">)&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>With those two methods, we can instantiate and display a <code class="docutils literal notranslate"><span class="pre">Line</span></code> object we’ll use to represent the <code class="docutils literal notranslate"><span class="pre">x</span></code> axis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line1</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end1</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">line1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Line(Point(0, 0), Point(300, 0))
</pre></div>
</div>
</div>
</div>
<p>When we call <code class="docutils literal notranslate"><span class="pre">print</span></code> and pass <code class="docutils literal notranslate"><span class="pre">line</span></code> as a parameter, <code class="docutils literal notranslate"><span class="pre">print</span></code> invokes <code class="docutils literal notranslate"><span class="pre">__str__</span></code> on <code class="docutils literal notranslate"><span class="pre">line</span></code>.
The <code class="docutils literal notranslate"><span class="pre">__str__</span></code> method uses an f-string to create a string representation of the <code class="docutils literal notranslate"><span class="pre">line</span></code>.</p>
<p>The f-string contains two expressions in curly braces, <code class="docutils literal notranslate"><span class="pre">self.p1</span></code> and <code class="docutils literal notranslate"><span class="pre">self.p2</span></code>.
When those expressions are evaluated, the results are <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects.
Then, when they are converted to strings, the <code class="docutils literal notranslate"><span class="pre">__str__</span></code> method from the <code class="docutils literal notranslate"><span class="pre">Point</span></code> class gets invoked.</p>
<p>That’s why, when we display a <code class="docutils literal notranslate"><span class="pre">Line</span></code>, the result contains the string representations of the <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects.</p>
<p>The following object diagram shows the state of this <code class="docutils literal notranslate"><span class="pre">Line</span></code> object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">Binding</span><span class="p">,</span> <span class="n">Value</span><span class="p">,</span> <span class="n">Frame</span>

<span class="n">d1</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">line1</span><span class="o">.</span><span class="n">p1</span><span class="p">)</span>
<span class="n">frame1</span> <span class="o">=</span> <span class="n">make_frame</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.17</span><span class="p">)</span>

<span class="n">d2</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">line1</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
<span class="n">frame2</span> <span class="o">=</span> <span class="n">make_frame</span><span class="p">(</span><span class="n">d2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.17</span><span class="p">)</span>

<span class="n">binding1</span> <span class="o">=</span> <span class="n">Binding</span><span class="p">(</span><span class="n">Value</span><span class="p">(</span><span class="s1">&#39;start&#39;</span><span class="p">),</span> <span class="n">frame1</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">binding2</span> <span class="o">=</span> <span class="n">Binding</span><span class="p">(</span><span class="n">Value</span><span class="p">(</span><span class="s1">&#39;end&#39;</span><span class="p">),</span> <span class="n">frame2</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">frame3</span> <span class="o">=</span> <span class="n">Frame</span><span class="p">([</span><span class="n">binding1</span><span class="p">,</span> <span class="n">binding2</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Line&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="n">offsety</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">)</span>

<span class="n">binding</span> <span class="o">=</span> <span class="n">make_binding</span><span class="p">(</span><span class="s1">&#39;line1&#39;</span><span class="p">,</span> <span class="n">frame3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.45</span><span class="p">,</span> <span class="mf">2.12</span><span class="p">,</span> <span class="mf">0.27</span><span class="p">,</span> <span class="mf">1.76</span><span class="p">]</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">binding</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="c1">#adjust(x, y, bbox)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/dc7b45175cdc4cb2d146241e50130c32e8ffce28f5d87d038ac1c8d3354331cf.png" src="_images/dc7b45175cdc4cb2d146241e50130c32e8ffce28f5d87d038ac1c8d3354331cf.png" />
</div>
</div>
<p>String representations and object diagrams are useful for debugging, but the point of this example is to generate graphics, not text!
So we’ll use the <code class="docutils literal notranslate"><span class="pre">jupyturtle</span></code> module to draw lines on the screen.</p>
<p>As we did in <a class="reference internal" href="chap04.html#section-turtle-module"><span class="std std-ref">Chapter 4</span></a>, we’ll use <code class="docutils literal notranslate"><span class="pre">make_turtle</span></code> to create a <code class="docutils literal notranslate"><span class="pre">Turtle</span></code> object and a small canvas where it can draw.
To draw lines, we’ll use two new functions from the <code class="docutils literal notranslate"><span class="pre">jupyturtle</span></code> module:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jumpto</span></code>, which takes two coordinates and moves the <code class="docutils literal notranslate"><span class="pre">Turtle</span></code> to the given location without drawing a line, and</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">moveto</span></code>, which moves the <code class="docutils literal notranslate"><span class="pre">Turtle</span></code> from its current location to the given location, and draws a line segment between them.</p></li>
</ul>
<p>Here’s how we import them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jupyturtle</span> <span class="kn">import</span> <span class="n">make_turtle</span><span class="p">,</span> <span class="n">jumpto</span><span class="p">,</span> <span class="n">moveto</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="ne">TypeError</span>: unsupported operand type(s) for |: &#39;type&#39; and &#39;NoneType&#39;
</pre></div>
</div>
</div>
</div>
<p>And here’s a method that draws a <code class="docutils literal notranslate"><span class="pre">Line</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Line

    def draw(self):
        jumpto(self.p1.x, self.p1.y)
        moveto(self.p2.x, self.p2.y)
</pre></div>
</div>
</div>
</div>
<p>To show how it’s used, I’ll create a second line that represents the <code class="docutils literal notranslate"><span class="pre">y</span></code> axis.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line2</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">line2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And then draw the axes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>
<span class="n">line1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">line2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>As we define and draw more objects, we’ll use these lines again.
But first let’s talk about object equivalence and identity.</p>
</section>
<section id="equivalence-and-identity">
<h2>Equivalence and identity<a class="headerlink" href="#equivalence-and-identity" title="Link to this heading">#</a></h2>
<p>Suppose we create two points with the same coordinates.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If we use the <code class="docutils literal notranslate"><span class="pre">==</span></code> operator to compare them, we get the default behavior for programmer-defined types – the result is <code class="docutils literal notranslate"><span class="pre">True</span></code> only if they are the same object, which they are not.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span>
</pre></div>
</div>
</div>
</div>
<p>If we want to change that behavior, we can provide a special method called <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> that defines what it means for two <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects to be equal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Point

def __eq__(self, other):
    return (self.x == other.x) and (self.y == other.y)
</pre></div>
</div>
</div>
</div>
<p>This definition considers two <code class="docutils literal notranslate"><span class="pre">Points</span></code> to be equal if their attributes are equal.
Now when we use the <code class="docutils literal notranslate"><span class="pre">==</span></code> operator, it invokes the <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method, which indicates that <code class="docutils literal notranslate"><span class="pre">p1</span></code> and <code class="docutils literal notranslate"><span class="pre">p2</span></code> are considered equal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="o">==</span> <span class="n">p2</span>
</pre></div>
</div>
</div>
</div>
<p>But the <code class="docutils literal notranslate"><span class="pre">is</span></code> operator still indicates that they are different objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">p1</span> <span class="ow">is</span> <span class="n">p2</span>
</pre></div>
</div>
</div>
</div>
<p>It’s not possible to override the <code class="docutils literal notranslate"><span class="pre">is</span></code> operator – it always checks whether the objects are <strong>identical</strong>.
But for programmer-defined types, you can override the <code class="docutils literal notranslate"><span class="pre">==</span></code> operator so it checks whether the objects are <strong>equivalent</strong>.
And you can define what equivalent means.</p>
</section>
<section id="creating-a-rectangle">
<h2>Creating a Rectangle<a class="headerlink" href="#creating-a-rectangle" title="Link to this heading">#</a></h2>
<p>Now let’s define a class that represents and draws rectangles.
To keep things simple, we’ll assume that the rectangles are either vertical or horizontal, not at an angle.
What attributes do you think we should use to specify the location and size of a rectangle?</p>
<p>There are at least two possibilities:</p>
<ul class="simple">
<li><p>You could specify the width and height of the rectangle and the location of one corner.</p></li>
<li><p>You could specify two opposing corners.</p></li>
</ul>
<p>At this point it’s hard to say whether either is better than the other, so let’s implement the first one.
Here is the class definition.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Rectangle</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Represents a rectangle. </span>

<span class="sd">    attributes: width, height, corner.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">corner</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="n">width</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="n">height</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">corner</span> <span class="o">=</span> <span class="n">corner</span>
        
    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;Rectangle(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span><span class="si">}</span><span class="s1">, </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">corner</span><span class="si">}</span><span class="s1">)&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>As usual, the <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method assigns the parameters to attributes and the <code class="docutils literal notranslate"><span class="pre">__str__</span></code> returns a string representation of the object.
Now we can instantiate a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> object, using a <code class="docutils literal notranslate"><span class="pre">Point</span></code> as the location of the upper-left corner.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corner</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">box1</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">box1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The following diagram shows the state of this object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">Binding</span><span class="p">,</span> <span class="n">Value</span>

<span class="k">def</span> <span class="nf">make_rectangle_binding</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">box</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">):</span>
    <span class="n">d1</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="n">box</span><span class="o">.</span><span class="n">corner</span><span class="p">)</span>
    <span class="n">frame_corner</span> <span class="o">=</span> <span class="n">make_frame</span><span class="p">(</span><span class="n">d1</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.07</span><span class="p">)</span>

    <span class="n">d2</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">box</span><span class="o">.</span><span class="n">height</span><span class="p">)</span>
    <span class="n">frame</span> <span class="o">=</span> <span class="n">make_frame</span><span class="p">(</span><span class="n">d2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;Rectangle&#39;</span><span class="p">,</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">0.25</span><span class="p">,</span> <span class="n">offsetx</span><span class="o">=</span><span class="mf">0.45</span><span class="p">)</span>
    <span class="n">binding</span> <span class="o">=</span> <span class="n">Binding</span><span class="p">(</span><span class="n">Value</span><span class="p">(</span><span class="s1">&#39;corner&#39;</span><span class="p">),</span> <span class="n">frame1</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mf">0.92</span><span class="p">,</span> <span class="n">draw_value</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="o">**</span><span class="n">options</span><span class="p">)</span>
    <span class="n">frame</span><span class="o">.</span><span class="n">bindings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">binding</span><span class="p">)</span>

    <span class="n">binding</span> <span class="o">=</span> <span class="n">Binding</span><span class="p">(</span><span class="n">Value</span><span class="p">(</span><span class="n">name</span><span class="p">),</span> <span class="n">frame</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">binding</span><span class="p">,</span> <span class="n">frame_corner</span>

<span class="n">binding_box1</span><span class="p">,</span> <span class="n">frame_corner1</span> <span class="o">=</span> <span class="n">make_rectangle_binding</span><span class="p">(</span><span class="s1">&#39;box1&#39;</span><span class="p">,</span> <span class="n">box1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">Bbox</span>

<span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.83</span><span class="p">,</span> <span class="mf">1.49</span><span class="p">,</span> <span class="mf">0.27</span><span class="p">,</span> <span class="mf">1.1</span><span class="p">]</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="n">bbox1</span> <span class="o">=</span> <span class="n">binding_box1</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">bbox2</span> <span class="o">=</span> <span class="n">frame_corner1</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mf">1.85</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">Bbox</span><span class="o">.</span><span class="n">union</span><span class="p">([</span><span class="n">bbox1</span><span class="p">,</span> <span class="n">bbox2</span><span class="p">])</span>
<span class="c1">#adjust(x, y, bbox)</span>
</pre></div>
</div>
</div>
</div>
<p>To draw a rectangle, we’ll use the following method to make four <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects to represent the corners.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def make_points(self):
        p1 = self.corner
        p2 = p1.translated(self.width, 0)
        p3 = p2.translated(0, self.height)
        p4 = p3.translated(-self.width, 0)
        return p1, p2, p3, p4
</pre></div>
</div>
</div>
</div>
<p>Then we’ll make four <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects to represent the sides.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def make_lines(self):
        p1, p2, p3, p4 = self.make_points()
        return Line(p1, p2), Line(p2, p3), Line(p3, p4), Line(p4, p1)
</pre></div>
</div>
</div>
</div>
<p>Then we’ll draw the sides.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def draw(self):
        lines = self.make_lines()
        for line in lines:
            line.draw()
</pre></div>
</div>
</div>
</div>
<p>Here’s an example.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>
<span class="n">line1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">line2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The figure includes two lines to represent the axes.</p>
</section>
<section id="changing-rectangles">
<h2>Changing rectangles<a class="headerlink" href="#changing-rectangles" title="Link to this heading">#</a></h2>
<p>Now let’s consider two methods that modify rectangles, <code class="docutils literal notranslate"><span class="pre">grow</span></code> and <code class="docutils literal notranslate"><span class="pre">translate</span></code>.
We’ll see that <code class="docutils literal notranslate"><span class="pre">grow</span></code> works as expected, but <code class="docutils literal notranslate"><span class="pre">translate</span></code> has a subtle bug.
See if you can figure it out before I explain.</p>
<p><code class="docutils literal notranslate"><span class="pre">grow</span></code> takes two numbers, <code class="docutils literal notranslate"><span class="pre">dwidth</span></code> and <code class="docutils literal notranslate"><span class="pre">dheight</span></code>, and adds them to the <code class="docutils literal notranslate"><span class="pre">width</span></code> and <code class="docutils literal notranslate"><span class="pre">height</span></code> attributes of the rectangle.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def grow(self, dwidth, dheight):
        self.width += dwidth
        self.height += dheight
</pre></div>
</div>
</div>
</div>
<p>Here’s an example that demonstrates the effect by making a copy of <code class="docutils literal notranslate"><span class="pre">box1</span></code> and invoking <code class="docutils literal notranslate"><span class="pre">grow</span></code> on the copy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box2</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="n">box1</span><span class="p">)</span>
<span class="n">box2</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">40</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">box2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If we draw <code class="docutils literal notranslate"><span class="pre">box1</span></code> and <code class="docutils literal notranslate"><span class="pre">box2</span></code>, we can confirm that <code class="docutils literal notranslate"><span class="pre">grow</span></code> works as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>
<span class="n">line1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">line2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s see about <code class="docutils literal notranslate"><span class="pre">translate</span></code>.
It takes two numbers, <code class="docutils literal notranslate"><span class="pre">dx</span></code> and <code class="docutils literal notranslate"><span class="pre">dy</span></code>, and moves the rectangle the given distances in the <code class="docutils literal notranslate"><span class="pre">x</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> directions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def translate(self, dx, dy):
        self.corner.translate(dx, dy)
</pre></div>
</div>
</div>
</div>
<p>To demonstrate the effect, we’ll translate <code class="docutils literal notranslate"><span class="pre">box2</span></code> to the right and down.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box2</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">box2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now let’s see what happens if we draw <code class="docutils literal notranslate"><span class="pre">box1</span></code> and <code class="docutils literal notranslate"><span class="pre">box2</span></code> again.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>
<span class="n">line1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">line2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>It looks like both rectangles moved, which is not what we intended!
The next section explains what went wrong.</p>
</section>
<section id="deep-copy">
<h2>Deep copy<a class="headerlink" href="#deep-copy" title="Link to this heading">#</a></h2>
<p>When we use <code class="docutils literal notranslate"><span class="pre">copy</span></code> to duplicate <code class="docutils literal notranslate"><span class="pre">box1</span></code>, it copies the <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> object but not the <code class="docutils literal notranslate"><span class="pre">Point</span></code> object it contains.
So <code class="docutils literal notranslate"><span class="pre">box1</span></code> and <code class="docutils literal notranslate"><span class="pre">box2</span></code> are different objects, as intended.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box1</span> <span class="ow">is</span> <span class="n">box2</span>
</pre></div>
</div>
</div>
</div>
<p>But their <code class="docutils literal notranslate"><span class="pre">corner</span></code> attributes refer to the same object.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box1</span><span class="o">.</span><span class="n">corner</span> <span class="ow">is</span> <span class="n">box2</span><span class="o">.</span><span class="n">corner</span>
</pre></div>
</div>
</div>
</div>
<p>The following diagram shows the state of these objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">Stack</span>
<span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>

<span class="n">binding_box1</span><span class="p">,</span> <span class="n">frame_corner1</span> <span class="o">=</span> <span class="n">make_rectangle_binding</span><span class="p">(</span><span class="s1">&#39;box1&#39;</span><span class="p">,</span> <span class="n">box1</span><span class="p">)</span>
<span class="n">binding_box2</span><span class="p">,</span> <span class="n">frame_corner2</span> <span class="o">=</span> <span class="n">make_rectangle_binding</span><span class="p">(</span><span class="s1">&#39;box2&#39;</span><span class="p">,</span> <span class="n">box2</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mf">0.4</span><span class="p">)</span>
<span class="n">binding_box2</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">bindings</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>

<span class="n">stack</span> <span class="o">=</span> <span class="n">Stack</span><span class="p">([</span><span class="n">binding_box1</span><span class="p">,</span> <span class="n">binding_box2</span><span class="p">],</span> <span class="n">dy</span><span class="o">=-</span><span class="mf">1.3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">diagram</span> <span class="kn">import</span> <span class="n">Bbox</span>

<span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mf">2.76</span><span class="p">,</span> <span class="mf">2.54</span><span class="p">,</span> <span class="mf">0.27</span><span class="p">,</span> <span class="mf">2.16</span><span class="p">]</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">diagram</span><span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
<span class="n">bbox1</span> <span class="o">=</span> <span class="n">stack</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="n">bbox2</span> <span class="o">=</span> <span class="n">frame_corner1</span><span class="o">.</span><span class="n">draw</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">x</span><span class="o">+</span><span class="mf">1.85</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="mf">0.6</span><span class="p">)</span>
<span class="n">bbox</span> <span class="o">=</span> <span class="n">Bbox</span><span class="o">.</span><span class="n">union</span><span class="p">([</span><span class="n">bbox1</span><span class="p">,</span> <span class="n">bbox2</span><span class="p">])</span>
<span class="c1"># adjust(x, y, bbox)</span>
</pre></div>
</div>
</div>
</div>
<p>What <code class="docutils literal notranslate"><span class="pre">copy</span></code> does is called a <strong>shallow copy</strong> because it copies the object but not the objects it contains.
As a result, changing the <code class="docutils literal notranslate"><span class="pre">width</span></code> or <code class="docutils literal notranslate"><span class="pre">height</span></code> of one <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> does not affect the other, but changing the attributes of the shared <code class="docutils literal notranslate"><span class="pre">Point</span></code> affects both!
This behavior is confusing and error-prone.</p>
<p>Fortunately, the <code class="docutils literal notranslate"><span class="pre">copy</span></code> module provides another function, called <code class="docutils literal notranslate"><span class="pre">deepcopy</span></code>, that copies not only the object but also the objects it refers to, and the objects <em>they</em> refer to, and so on.
This operation is called a <strong>deep copy</strong>.</p>
<p>To demonstrate, let’s start with a new <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> that contains a new <code class="docutils literal notranslate"><span class="pre">Point</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corner</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">box3</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">box3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And we’ll make a deep copy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">deepcopy</span>

<span class="n">box4</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">box3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can confirm that the two <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> objects refer to different <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box3</span><span class="o">.</span><span class="n">corner</span> <span class="ow">is</span> <span class="n">box4</span><span class="o">.</span><span class="n">corner</span>
</pre></div>
</div>
</div>
</div>
<p>Because <code class="docutils literal notranslate"><span class="pre">box3</span></code> and <code class="docutils literal notranslate"><span class="pre">box4</span></code> are completely separate objects, we can modify one without affecting the other.
To demonstrate, we’ll move <code class="docutils literal notranslate"><span class="pre">box3</span></code> and grow <code class="docutils literal notranslate"><span class="pre">box4</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">box3</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">box4</span><span class="o">.</span><span class="n">grow</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And we can confirm that the effect is as expected.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>
<span class="n">line1</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">line2</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box3</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">box4</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="polymorphism">
<h2>Polymorphism<a class="headerlink" href="#polymorphism" title="Link to this heading">#</a></h2>
<p>In the previous example, we invoked the <code class="docutils literal notranslate"><span class="pre">draw</span></code> method on two <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects and two <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> objects.
We can do the same thing more concisely by making a list of objects.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">shapes</span> <span class="o">=</span> <span class="p">[</span><span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">,</span> <span class="n">box3</span><span class="p">,</span> <span class="n">box4</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The elements of this list are different types, but they all provide a <code class="docutils literal notranslate"><span class="pre">draw</span></code> method, so we can loop through the list and invoke <code class="docutils literal notranslate"><span class="pre">draw</span></code> on each one.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>

<span class="k">for</span> <span class="n">shape</span> <span class="ow">in</span> <span class="n">shapes</span><span class="p">:</span>
    <span class="n">shape</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>The first and second time through the loop, <code class="docutils literal notranslate"><span class="pre">shape</span></code> refers to a <code class="docutils literal notranslate"><span class="pre">Line</span></code> object, so when <code class="docutils literal notranslate"><span class="pre">draw</span></code> is invoked, the method that runs is the one defined in the <code class="docutils literal notranslate"><span class="pre">Line</span></code> class.</p>
<p>The third and fourth time through the loop, <code class="docutils literal notranslate"><span class="pre">shape</span></code> refers to a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> object, so when <code class="docutils literal notranslate"><span class="pre">draw</span></code> is invoked, the method that runs is the one defined in the <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> class.</p>
<p>In a sense, each object knows how to draw itself.
This feature is called <strong>polymorphism</strong>.
The word comes from Greek roots that mean “many shaped”.
In object-oriented programming, polymorphism is the ability of different types to provide the same methods, which makes it possible to perform many computations – like drawing shapes – by invoking the same method on different types of objects.</p>
<p>As an exercise at the end of this chapter, you’ll define a new class that represents a circle and provides a <code class="docutils literal notranslate"><span class="pre">draw</span></code> method.
Then you can use polymorphism to draw lines, rectangles, and circles.</p>
</section>
<section id="debugging">
<h2>Debugging<a class="headerlink" href="#debugging" title="Link to this heading">#</a></h2>
<p>In this chapter, we ran into a subtle bug that happened because we created a <code class="docutils literal notranslate"><span class="pre">Point</span></code> that was shared by two <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> objects, and then we modified the <code class="docutils literal notranslate"><span class="pre">Point</span></code>.
In general, there are two ways to avoid problems like this: you can avoid sharing objects or you can avoid modifying them.</p>
<p>To avoid sharing objects, you can use deep copy, as we did in this chapter.</p>
<p>To avoid modifying objects, consider replacing modifiers like <code class="docutils literal notranslate"><span class="pre">translate</span></code> with pure functions like <code class="docutils literal notranslate"><span class="pre">translated</span></code>.
For example, here’s a version of <code class="docutils literal notranslate"><span class="pre">translated</span></code> that creates a new <code class="docutils literal notranslate"><span class="pre">Point</span></code> and never modifies its attributes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>    <span class="k">def</span> <span class="nf">translated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">dx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">dy</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span>
        <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span>
        <span class="k">return</span> <span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Python provides features that make it easier to avoid modifying objects.
They are beyond the scope of this book, but if you are curious, ask a virtual assistant, “How do I make a Python object immutable?”</p>
<p>Creating a new object takes more time than modifying an existing one, but the difference seldom matters in practice.
Programs that avoid shared objects and modifiers are often easier to develop, test, and debug – and the best kind of debugging is the kind you don’t have to do.</p>
</section>
<section id="glossary">
<h2>Glossary<a class="headerlink" href="#glossary" title="Link to this heading">#</a></h2>
<p><strong>identical:</strong>
Being the same object (which implies equivalence).</p>
<p><strong>equivalent:</strong>
Having the same value.</p>
<p><strong>shallow copy:</strong>
A copy operation that does not copy nested objects.</p>
<p><strong>deep copy:</strong>
A copy operation that also copies nested objects.</p>
<p><strong>polymorphism:</strong>
The ability of a method or operator to work with multiple types of objects.</p>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This cell tells Jupyter to provide detailed debugging information</span>
<span class="c1"># when a runtime error occurs. Run it before working on the exercises.</span>

<span class="o">%</span><span class="k">xmode</span> Verbose
</pre></div>
</div>
</div>
</div>
<section id="ask-a-virtual-assistant">
<h3>Ask a virtual assistant<a class="headerlink" href="#ask-a-virtual-assistant" title="Link to this heading">#</a></h3>
<p>For all of the following exercises, consider asking a virtual assistant for help.
If you do, you’ll want include as part of the prompt the class definitions for <code class="docutils literal notranslate"><span class="pre">Point</span></code>, <code class="docutils literal notranslate"><span class="pre">Line</span></code>, and <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> – otherwise the VA will make a guess about their attributes and functions, and the code it generates won’t work.</p>
</section>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading">#</a></h3>
<p>Write an <code class="docutils literal notranslate"><span class="pre">__eq__</span></code> method for the <code class="docutils literal notranslate"><span class="pre">Line</span></code> class that returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if the <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects refer to <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects that are equivalent, in either order.</p>
<p>You can use the following outline to get started.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Line

def __eq__(self, other):
    return None
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Line

def __eq__(self, other):
    if (self.p1 == other.p1) and (self.p2 == other.p2):
        return True
    if (self.p1 == other.p2) and (self.p2 == other.p1):
        return True
    return False
</pre></div>
</div>
</div>
</div>
<p>You can use these examples to test your code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">start2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>This example should be <code class="docutils literal notranslate"><span class="pre">True</span></code> because the <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects refer to <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects that are equivalent, in the same order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line_a</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start1</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
<span class="n">line_b</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start2</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>
<span class="n">line_a</span> <span class="o">==</span> <span class="n">line_b</span>    <span class="c1"># should be True</span>
</pre></div>
</div>
</div>
</div>
<p>This example should be <code class="docutils literal notranslate"><span class="pre">True</span></code> because the <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects refer to <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects that are equivalent, in reverse order.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line_c</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="n">start1</span><span class="p">)</span>
<span class="n">line_a</span> <span class="o">==</span> <span class="n">line_c</span>     <span class="c1"># should be True</span>
</pre></div>
</div>
</div>
</div>
<p>Equivalence should always be transitive – that is, if <code class="docutils literal notranslate"><span class="pre">line_a</span></code> and <code class="docutils literal notranslate"><span class="pre">line_b</span></code> are equivalent, and <code class="docutils literal notranslate"><span class="pre">line_a</span></code> and <code class="docutils literal notranslate"><span class="pre">line_c</span></code> are equivalent, then <code class="docutils literal notranslate"><span class="pre">line_b</span></code> and <code class="docutils literal notranslate"><span class="pre">line_c</span></code> should also be equivalent.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line_b</span> <span class="o">==</span> <span class="n">line_c</span>     <span class="c1"># should be True</span>
</pre></div>
</div>
</div>
</div>
<p>This example should be <code class="docutils literal notranslate"><span class="pre">False</span></code> because the <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects refer to <code class="docutils literal notranslate"><span class="pre">Point</span></code> objects that are not equivalent.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line_d</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start1</span><span class="p">,</span> <span class="n">start2</span><span class="p">)</span>
<span class="n">line_a</span> <span class="o">==</span> <span class="n">line_d</span>    <span class="c1"># should be False</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id1">
<h3>Exercise<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>Write a <code class="docutils literal notranslate"><span class="pre">Line</span></code> method called <code class="docutils literal notranslate"><span class="pre">midpoint</span></code> that computes the midpoint of a line segment and returns the result as a <code class="docutils literal notranslate"><span class="pre">Point</span></code> object.</p>
<p>You can use the following outline to get started.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Line

    def midpoint(self):
        return Point(0, 0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Line

    def midpoint(self):
        mid_x = (self.p1.x + self.p2.x) / 2
        mid_y = (self.p1.y + self.p2.y) / 2
        return Point(mid_x, mid_y)
</pre></div>
</div>
</div>
</div>
<p>You can use the following examples to test your code and draw the result.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">start</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end1</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">end2</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">line1</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end1</span><span class="p">)</span>
<span class="n">line2</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">end2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mid1</span> <span class="o">=</span> <span class="n">line1</span><span class="o">.</span><span class="n">midpoint</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mid1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mid2</span> <span class="o">=</span> <span class="n">line2</span><span class="o">.</span><span class="n">midpoint</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mid2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">line3</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">mid1</span><span class="p">,</span> <span class="n">mid2</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>

<span class="k">for</span> <span class="n">shape</span> <span class="ow">in</span> <span class="p">[</span><span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">,</span> <span class="n">line3</span><span class="p">]:</span>
    <span class="n">shape</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id2">
<h3>Exercise<a class="headerlink" href="#id2" title="Link to this heading">#</a></h3>
<p>Write a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> method called <code class="docutils literal notranslate"><span class="pre">midpoint</span></code> that find the point in the center of a rectangle and returns the result as a <code class="docutils literal notranslate"><span class="pre">Point</span></code> object.</p>
<p>You can use the following outline to get started.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def midpoint(self):
        return Point(0, 0)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def midpoint(self):
        mid_x = self.corner.x + self.width / 2
        mid_y = self.corner.y + self.height / 2
        return Point(mid_x, mid_y)
</pre></div>
</div>
</div>
</div>
<p>You can use the following example to test your code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corner</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">mid</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">midpoint</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">mid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">diagonal</span> <span class="o">=</span> <span class="n">Line</span><span class="p">(</span><span class="n">corner</span><span class="p">,</span> <span class="n">mid</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>

<span class="k">for</span> <span class="n">shape</span> <span class="ow">in</span> <span class="p">[</span><span class="n">line1</span><span class="p">,</span> <span class="n">line2</span><span class="p">,</span> <span class="n">rectangle</span><span class="p">,</span> <span class="n">diagonal</span><span class="p">]:</span>
    <span class="n">shape</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id3">
<h3>Exercise<a class="headerlink" href="#id3" title="Link to this heading">#</a></h3>
<p>Write a <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> method called <code class="docutils literal notranslate"><span class="pre">make_cross</span></code> that:</p>
<ol class="arabic simple">
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">make_lines</span></code> to get a list of <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects that represent the four sides of the rectangle.</p></li>
<li><p>Computes the midpoints of the four lines.</p></li>
<li><p>Makes and returns a list of two <code class="docutils literal notranslate"><span class="pre">Line</span></code> objects that represent lines connecting opposite midpoints, forming a cross through the middle of the rectangle.</p></li>
</ol>
<p>You can use this outline to get started.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def make_diagonals(self):
        return []
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">add_method_to</span> Rectangle

    def make_cross(self):
        midpoints = []

        for line in self.make_lines():
            midpoints.append(line.midpoint())

        p1, p2, p3, p4 = midpoints
        return Line(p1, p3), Line(p2, p4)
</pre></div>
</div>
</div>
</div>
<p>You can use the following example to test your code.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corner</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">make_cross</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">()</span>

<span class="n">rectangle</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span>
    <span class="n">line</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h3>Exercise<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>Write a definition for a class named <code class="docutils literal notranslate"><span class="pre">Circle</span></code> with attributes <code class="docutils literal notranslate"><span class="pre">center</span></code> and <code class="docutils literal notranslate"><span class="pre">radius</span></code>, where <code class="docutils literal notranslate"><span class="pre">center</span></code> is a Point object and <code class="docutils literal notranslate"><span class="pre">radius</span></code> is a number.
Include special methods <code class="docutils literal notranslate"><span class="pre">__init__</span></code> and a <code class="docutils literal notranslate"><span class="pre">__str__</span></code>, and a method called <code class="docutils literal notranslate"><span class="pre">draw</span></code> that uses <code class="docutils literal notranslate"><span class="pre">jupyturtle</span></code> functions to draw the circle.</p>
<p>You can use the following function, which is a version of the <code class="docutils literal notranslate"><span class="pre">circle</span></code> function we wrote in Chapter 4.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jupyturtle</span> <span class="kn">import</span> <span class="n">make_turtle</span><span class="p">,</span> <span class="n">forward</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span>
<span class="kn">import</span> <span class="nn">math</span>
    
<span class="k">def</span> <span class="nf">draw_circle</span><span class="p">(</span><span class="n">radius</span><span class="p">):</span>
    <span class="n">circumference</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">radius</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">30</span>
    <span class="n">length</span> <span class="o">=</span> <span class="n">circumference</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">angle</span> <span class="o">=</span> <span class="mi">360</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">left</span><span class="p">(</span><span class="n">angle</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
        <span class="n">forward</span><span class="p">(</span><span class="n">length</span><span class="p">)</span>
        <span class="n">left</span><span class="p">(</span><span class="n">angle</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Solution goes here</span>
</pre></div>
</div>
</div>
</div>
<p>You can use the following example to test your code.
We’ll start with a square <code class="docutils literal notranslate"><span class="pre">Rectangle</span></code> with width and height <code class="docutils literal notranslate"><span class="pre">100</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corner</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="n">rectangle</span> <span class="o">=</span> <span class="n">Rectangle</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">corner</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The following code should create a <code class="docutils literal notranslate"><span class="pre">Circle</span></code> that fits inside the square.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">center</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">midpoint</span><span class="p">()</span>
<span class="n">radius</span> <span class="o">=</span> <span class="n">rectangle</span><span class="o">.</span><span class="n">height</span> <span class="o">/</span> <span class="mi">2</span>

<span class="n">circle</span> <span class="o">=</span> <span class="n">Circle</span><span class="p">(</span><span class="n">center</span><span class="p">,</span> <span class="n">radius</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">circle</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>If everything worked correctly, the following code should draw the circle inside the square (touching on all four sides).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_turtle</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>

<span class="n">rectangle</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
<span class="n">circle</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-point">Creating a Point</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-line">Creating a Line</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#equivalence-and-identity">Equivalence and identity</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-rectangle">Creating a Rectangle</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#changing-rectangles">Changing rectangles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#deep-copy">Deep copy</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#polymorphism">Polymorphism</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#debugging">Debugging</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#glossary">Glossary</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">Exercises</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ask-a-virtual-assistant">Ask a virtual assistant</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Exercise</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">Exercise</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Boris Gorelik
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>